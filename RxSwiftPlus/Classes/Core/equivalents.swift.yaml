---
- type: "call"
  id: "com.lightningkite.rx.forever"
  receiver: "io.reactivex.rxjava3.disposables.Disposable"
  template:
    pattern: "~this~.forever()"
    imports: [RxSwiftPlus]

- type: "type"
  id: "com.lightningkite.rx.HasValueSubject"
  template:
    pattern: "HasValueSubject<~T0~>"
    imports: [RxSwiftPlus]

- type: "get"
  id: "com.lightningkite.rx.HasValueSubject.value"
  template:
    pattern: "~this~.value"
    imports: [RxSwiftPlus]

- type: "set"
  id: "com.lightningkite.rx.HasValueSubject.value"
  template:
    pattern: "~this~.value = ~value~"
    imports: [RxSwiftPlus]

- type: "type"
  id: "com.lightningkite.rx.ValueSubject"
  template:
    pattern: "ValueSubject<~T0~>"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.ValueSubject"
  template:
    pattern: "ValueSubject(value: ~value~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.makeSubject"
  arguments:
    - "io.reactivex.rxjava3.core.Observable"
    - "io.reactivex.rxjava3.core.Observer"
  template:
    pattern: "ValueSubjectDelegate(values: ~observable~, valueSink: ~observer~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.map"
  receiver: "io.reactivex.rxjava3.subjects.Subject"
  arguments:
    - "kotlin.Function1"
    - "kotlin.Function1"
  template:
    pattern: "~this~.map(read: ~read~, write: ~write~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.mapMaybeWrite"
  receiver: "io.reactivex.rxjava3.subjects.Subject"
  arguments:
    - "kotlin.Function1"
    - "kotlin.Function1"
  template:
    pattern: "~this~.mapMaybeWrite(read: ~read~, write: ~write~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.mapWithExisting"
  receiver: "com.lightningkite.rx.HasValueSubject"
  arguments:
    - "kotlin.Function1"
    - "kotlin.Function2"
  template:
    pattern: "~this~.mapWithExisting(read: ~read~, write: ~write~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.notNull"
  receiver: "io.reactivex.rxjava3.core.Observable"
  template:
    pattern: "~this~.notNull()"
    imports: [RxSwiftPlus]

- type: "get"
  id: "com.lightningkite.rx.kotlin"
  template: "~this~"

- type: "get"
  id: "com.lightningkite.rx.optional"
  template: "~this~"

- type: "call"
  id: "com.lightningkite.rx.withWrite"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.withWrite(onWrite: ~onWrite~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.switchMapMutable"
  template:
    pattern: "~this~.switchMapMutable(~transformation~)" #TODO
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.subscribeByNullable"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
    - "kotlin.Function0"
    - "kotlin.Function1"
  template:
    pattern: "~this~.subscribeByNullable(~onError~, ~onComplete~, ~onNext~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.subscribeByNullable"
  receiver: "io.reactivex.rxjava3.core.Single"
  arguments:
    - "kotlin.Function1"
    - "kotlin.Function1"
  template:
    pattern: "~this~.subscribeByNullable(~onError~, ~onSuccess~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.subscribeByNullable"
  receiver: "io.reactivex.rxjava3.core.Maybe"
  arguments:
    - "kotlin.Function1"
    - "kotlin.Function0"
    - "kotlin.Function1"
  template:
    pattern: "~this~.subscribeByNullable(~onError~, ~onComplete~, ~onSuccess~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.isEqualTo"
  template:
    pattern: "(~this~ == ~other~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.notEqualTo"
  template:
    pattern: "(~this~ != ~other~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.isEqualToOrNull"
  template:
    pattern: "~this~.isEqualToOrNull(~other~)" #TODO
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.notEqualToOrNull"
  template:
    pattern: "~this~.notEqualToOrNull(~other~)" #TODO
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.get"
  receiver: "com.lightningkite.rx.HasValueSubject"
  arguments:
    - "kotlin.reflect.KMutableProperty1"
  template:
    pattern: "~this~.get(~property~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.isIn"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "io.reactivex.rxjava3.core.Observable"
  template:
    pattern: "~other~.contains(~this~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.notIn"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "io.reactivex.rxjava3.core.Observable"
  template:
    pattern: "(!~other~.contains(~this~))"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.contains"
  receiver: "com.lightningkite.rx.HasValueSubject"
  arguments:
    - "com.lightningkite.rx.contains.T"
  template:
    pattern: "~this~.contains(~constant~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.doesNotContain"
  receiver: "com.lightningkite.rx.HasValueSubject"
  arguments:
    - "com.lightningkite.rx.doesNotContain.T"
  template:
    pattern: "~this~.doesNotContain(~constant~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.and"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "io.reactivex.rxjava3.core.Observable"
  template:
    pattern: "(~this~ && ~other~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.or"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "io.reactivex.rxjava3.core.Observable"
  template:
    pattern: "(~this~ || ~other~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.not"
  receiver: "io.reactivex.rxjava3.subjects.Subject"
  template:
    pattern: "(!~this~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.plus"
  template:
    pattern: "(~this~ + ~amount~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.times"
  template:
    pattern: "(~this~ * ~amount~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.minus"
  template:
    pattern: "(~this~ - ~amount~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.div"
  template:
    pattern: "(~this~ / ~amount~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.mapNotNull"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.compactMap(~mapper~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.mapFromNullable"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.map(~mapper~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.mapNullable"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.map(~mapper~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.mapToNullable"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.map(~mapper~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.flatMapNotNull"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.flatMapNotNull(~mapper~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.switchMapNotNull"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.flatMapLatestNotNull(~mapper~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.flatMapNotNull"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.flatMapNotNull(~mapper~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.switchMapNotNull"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.flatMapLatestNotNull(~mapper~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.combineLatest"
  receiver: "io.reactivex.rxjava3.core.Observable"
  arguments:
    - "io.reactivex.rxjava3.core.Observable"
    - "kotlin.Function2"
  template:
    pattern: "~this~.combineLatest(~observable~, ~function~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.combineLatest"
  receiver: "kotlin.collections.List"
  arguments:
    - "kotlin.Function1"
  template:
    pattern: "~this~.combineLatest().map(~combine~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.combineLatest"
  receiver: "kotlin.collections.List"
  template:
    pattern: "~this~.combineLatest()"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.zip"
  receiver: "kotlin.collections.List"
  template:
    pattern: "Single.zip(~this~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.working"
  receiver: "io.reactivex.rxjava3.core.Single"
  arguments:
    - "io.reactivex.rxjava3.subjects.Subject"
  template:
    pattern: "~this~.working(~property~)"
    imports: [RxSwiftPlus]

- type: "call"
  id: "com.lightningkite.rx.working"
  receiver: "io.reactivex.rxjava3.core.Maybe"
  arguments:
    - "io.reactivex.rxjava3.subjects.Subject"
  template:
    pattern: "~this~.working(~property~)"
    imports: [RxSwiftPlus]

